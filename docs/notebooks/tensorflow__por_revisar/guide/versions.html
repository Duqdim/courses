

<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>&lt;no title&gt; &mdash; documentación de --- Cursos --- - </title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/translations.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> --- Cursos ---
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Configuración</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../setup.html">Instalación de Vagrant y Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Cursos de Pregrado</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../fundamentos-de-analitica/index.html">Fundamentos de Analítica</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../redes_neuronales_y_algoritmos_bioinspirados/index.html">Redes Neuronales Artificiales y Algoritmos Bioinspirados</a></li>
</ul>
<p class="caption"><span class="caption-text">Cursos de Posgrado</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../analitica-de-grandes-datos/index.html">Analítica de Grandes Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analitica-predictiva/index.html">Analítica Predictiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ciencia-de-los-datos/index.html">Ciencia de los Datos Aplicada</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../productos-de-datos/index.html">Productos de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analitica_avanzada/index.html">Analítica Avanzada</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">--- Cursos ---</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/notebooks/tensorflow__por_revisar/guide/versions.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<p># TensorFlow version compatibility</p>
<p>This document is for users who need backwards compatibility across different
versions of TensorFlow (either for code or data), and for developers who want
to modify TensorFlow while preserving compatibility.</p>
<p>## Semantic versioning 2.0</p>
<p>TensorFlow follows Semantic Versioning 2.0 ([semver](<a class="reference external" href="http://semver.org">http://semver.org</a>)) for its
public API. Each release version of TensorFlow has the form <cite>MAJOR.MINOR.PATCH</cite>.
For example, TensorFlow version 1.2.3 has <cite>MAJOR</cite> version 1, <cite>MINOR</cite> version 2,
and <cite>PATCH</cite> version 3. Changes to each number have the following meaning:</p>
<ul class="simple">
<li><p><strong>MAJOR</strong>:  Potentially backwards incompatible changes.  Code and data that
worked with a previous major release will not necessarily work with the new
release. However, in some cases existing TensorFlow graphs and checkpoints
may be migratable to the newer release; see
[Compatibility of graphs and checkpoints](#compatibility_of_graphs_and_checkpoints)
for details on data compatibility.</p></li>
<li><p><strong>MINOR</strong>: Backwards compatible features, speed improvements, etc. Code and
data that worked with a previous minor release <em>and</em> which depends only on the
non-experimental public API will continue to work unchanged.  For details on
what is and is not the public API, see [What is covered](#what_is_covered).</p></li>
<li><p><strong>PATCH</strong>: Backwards compatible bug fixes.</p></li>
</ul>
<p>For example, release 1.0.0 introduced backwards <em>incompatible</em> changes from
release 0.12.1.  However, release 1.1.1 was backwards <em>compatible</em> with release
1.0.0.
&lt;a name=»what_is_covered»&gt;&lt;/a&gt;
## What is covered</p>
<p>Only the public APIs of TensorFlow are backwards compatible across minor and
patch versions.  The public APIs consist of</p>
<ul>
<li><p>All the documented [Python](../api_docs/python) functions and classes in the
<cite>tensorflow</cite> module and its submodules, except for</p>
<blockquote>
<div><ul class="simple">
<li><p>Private symbols: any function, class, etc., whose name start with <cite>_</cite></p></li>
<li><p>Experimental and <cite>tf.contrib</cite> symbols, see [below](#not_covered) for
details.</p></li>
</ul>
</div></blockquote>
<p>Note that the code in the <cite>examples/</cite> and <cite>tools/</cite> directories is not
reachable through the <cite>tensorflow</cite> Python module and is thus not covered by
the compatibility guarantee.</p>
<p>If a symbol is available through the <cite>tensorflow</cite> Python module or its
submodules, but is not documented, then it is <strong>not</strong> considered part of the
public API.</p>
</li>
<li><p>The compatibility API (in Python, the <cite>tf.compat</cite> module). At major versions,
we may release utilities and additional endpoints to help users with the
transition to a new major version. These API symbols are deprecated and not
supported (i.e., we will not add any features, and we will not fix bugs
other than to fix vulnerabilities), but they do fall under our compatibility
guarantees.</p></li>
<li><p>The [C API](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/c/c_api.h">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/c/c_api.h</a>).</p></li>
<li><p>The following protocol buffer files:</p>
<blockquote>
<div><ul class="simple">
<li><p>[<cite>attr_value</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/attr_value.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/attr_value.proto</a>)</p></li>
<li><p>[<cite>config</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/config.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/config.proto</a>)</p></li>
<li><p>[<cite>event</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/util/event.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/util/event.proto</a>)</p></li>
<li><p>[<cite>graph</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/graph.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/graph.proto</a>)</p></li>
<li><p>[<cite>op_def</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/op_def.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/op_def.proto</a>)</p></li>
<li><p>[<cite>reader_base</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/reader_base.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/reader_base.proto</a>)</p></li>
<li><p>[<cite>summary</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/summary.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/summary.proto</a>)</p></li>
<li><p>[<cite>tensor</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/tensor.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/tensor.proto</a>)</p></li>
<li><p>[<cite>tensor_shape</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/tensor_shape.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/tensor_shape.proto</a>)</p></li>
<li><p>[<cite>types</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/types.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/types.proto</a>)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>&lt;a name=»not_covered»&gt;&lt;/a&gt;
## What is <em>not</em> covered</p>
<p>Some parts of TensorFlow can change in backward incompatible ways at any point.
These include:</p>
<ul class="simple">
<li><p><strong>Experimental APIs</strong>: To facilitate development, we exempt some API symbols
clearly marked as experimental from the compatibility guarantees. In
particular, the following are not covered by any compatibility guarantees:</p>
<ul>
<li><p>any symbol in the <cite>tf.contrib</cite> module or its submodules;</p></li>
<li><p>any symbol (module, function, argument, property, class, or constant)
whose name contains <cite>experimental</cite> or <cite>Experimental</cite>; or</p></li>
<li><p>any symbol whose fully qualified name includes a module or class which
is itself experimental. This includes fields and submessages of any
protocol buffer called <cite>experimental</cite>.</p></li>
</ul>
</li>
<li><p><strong>Other languages</strong>: TensorFlow APIs in languages other than Python and C,
such as:</p>
<ul>
<li><p>[C++](../install/lang_c.md) (exposed through header files in
[<cite>tensorflow/cc</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/cc">https://github.com/tensorflow/tensorflow/tree/master/tensorflow/cc</a>)).</p></li>
<li><p>[Java](../install/lang_java.md),</p></li>
<li><p>[Go](../install/lang_go.md)</p></li>
<li><p>[JavaScript](<a class="reference external" href="https://www.tensorflow.org/js">https://www.tensorflow.org/js</a>)</p></li>
</ul>
</li>
<li><p><strong>Details of composite ops:</strong> Many public functions in Python expand to
several primitive ops in the graph, and these details will be part of any
graphs saved to disk as <a href="#id1"><span class="problematic" id="id2">`</span></a>GraphDef`s. These details may change for minor
releases. In particular, regression tests that check for exact matching
between graphs are likely to break across minor releases, even though the
behavior of the graph should be unchanged and existing checkpoints will
still work.</p></li>
<li><p><strong>Floating point numerical details:</strong> The specific floating point values
computed by ops may change at any time. Users should rely only on
approximate accuracy and numerical stability, not on the specific bits
computed. Changes to numerical formulas in minor and patch releases should
result in comparable or improved accuracy, with the caveat that in machine
learning improved accuracy of specific formulas may result in decreased
accuracy for the overall system.</p></li>
<li><p><strong>Random numbers:</strong> The specific random numbers computed may change at any
time. Users should rely only on approximately correct distributions and
statistical strength, not the specific bits computed. See the
[random number generation](random_numbers.ipynb) guide for details.</p></li>
<li><p><strong>Version skew in distributed Tensorflow:</strong> Running two different versions
of TensorFlow in a single cluster is unsupported. There are no guarantees
about backwards compatibility of the wire protocol.</p></li>
<li><p><strong>Bugs:</strong> We reserve the right to make backwards incompatible behavior
(though not API) changes if the current implementation is clearly broken,
that is, if it contradicts the documentation or if a well-known and
well-defined intended behavior is not properly implemented due to a bug. For
example, if an optimizer claims to implement a well-known optimization
algorithm but does not match that algorithm due to a bug, then we will fix
the optimizer. Our fix may break code relying on the wrong behavior for
convergence. We will note such changes in the release notes.</p></li>
<li><p><strong>Unused API:</strong> We reserve the right to make backwards incompatible changes
to APIs for which we find no documented uses (by performing audit of
TensorFlow usage through GitHub search). Before making any such changes, we
will announce our intention to make the change on the
[announce&#64; mailing list](<a class="reference external" href="https://groups.google.com/a/tensorflow.org/forum/#!forum/announce">https://groups.google.com/a/tensorflow.org/forum/#!forum/announce</a>),
providing instructions for how to address any breakages (if applicable), and
wait for two weeks to give our community a chance to share their feedback.</p></li>
<li><p><strong>Error behavior:</strong> We may replace errors with non-error behavior. For
instance, we may change a function to compute a result instead of raising an
error, even if that error is documented. We also reserve the right to change
the text of error messages. In addition, the type of an error may change
unless the exception type for a specific error condition is specified in the
documentation.</p></li>
</ul>
<p>&lt;a name=»compatibility_of_graphs_and_checkpoints»&gt;&lt;/a&gt;
## Compatibility of SavedModels, graphs and checkpoints</p>
<p>SavedModel is the preferred serialization format to use in TensorFlow programs.
SavedModels contain two parts: One or more graphs encoded as <cite>GraphDefs</cite> and a
Checkpoint. The graphs describe the data flow of ops to be run, and checkpoints
contain the saved tensor values of variables in a graph.</p>
<p>Many TensorFlow users create SavedModels, and load and execute them with a
later release of TensorFlow. In compliance with [semver](<a class="reference external" href="https://semver.org">https://semver.org</a>),
SavedModels written with one version of TensorFlow can be loaded and evaluated
with a later version of TensorFlow with the same major release.</p>
<p>We make additional guarantees for <em>supported</em> SavedModels. We call a SavedModel
which was created using <strong>only non-deprecated, non-experimental,
non-compatibility APIs</strong> in TensorFlow major version <cite>N</cite> a <em>SavedModel supported
in version `N`</em>. Any SavedModel supported in TensorFlow major version <cite>N</cite> can be
loaded and executed with TensorFlow major version <cite>N+1</cite>. However, the
functionality required to build or modify such a model may not be available any
more, so this guarantee only applies to the unmodified SavedModel.</p>
<p>We will endeavor to preserve backwards compatibility as long as possible, so
that the serialized files are usable over long periods of time.</p>
<p>### GraphDef compatibility</p>
<p>Graphs are serialized via the <cite>GraphDef</cite> protocol buffer.  To facilitate
backwards incompatible changes to graphs, each <cite>GraphDef</cite> has a version number
separate from the TensorFlow version.  For example, <cite>GraphDef</cite> version 17
deprecated the <cite>inv</cite> op in favor of <cite>reciprocal</cite>.  The semantics are:</p>
<ul>
<li><p>Each version of TensorFlow supports an interval of <cite>GraphDef</cite> versions. This
interval will be constant across patch releases, and will only grow across
minor releases.  Dropping support for a <cite>GraphDef</cite> version will only occur
for a major release of TensorFlow (and only aligned with the version support
guaranteed for SavedModels).</p></li>
<li><p>Newly created graphs are assigned the latest <cite>GraphDef</cite> version number.</p></li>
<li><p>If a given version of TensorFlow supports the <cite>GraphDef</cite> version of a graph,
it will load and evaluate with the same behavior as the TensorFlow version
used to generate it (except for floating point numerical details and random
numbers as outlined above), regardless of the major version of TensorFlow.
In particular, a GraphDef which is compatible with a checkpoint file in one
version of TensorFlow (such as is the case in a SavedModel) will remain
compatible with that checkpoint in subsequent versions, as long as the
GraphDef is supported.</p>
<p>Note that this applies only to serialized Graphs in GraphDefs (and
SavedModels): <em>Code</em> which reads a checkpoint may not be able to read
checkpoints generated by the same code running a different version of
TensorFlow.</p>
</li>
<li><p>If the <cite>GraphDef</cite> <em>upper</em> bound is increased to X in a (minor) release, there
will be at least six months before the <em>lower</em> bound is increased to X.  For
example (we’re using hypothetical version numbers here):</p>
<blockquote>
<div><ul class="simple">
<li><p>TensorFlow 1.2 might support <cite>GraphDef</cite> versions 4 to 7.</p></li>
<li><p>TensorFlow 1.3 could add <cite>GraphDef</cite> version 8 and support versions 4 to 8.</p></li>
<li><p>At least six months later, TensorFlow 2.0.0 could drop support for
versions 4 to 7, leaving version 8 only.</p></li>
</ul>
</div></blockquote>
<p>Note that because major versions of TensorFlow are usually published more than
6 months apart, the guarantees for supported SavedModels detailed above are
much stronger than the 6 months guarantee for GraphDefs.</p>
</li>
</ul>
<p>Finally, when support for a <cite>GraphDef</cite> version is dropped, we will attempt to
provide tools for automatically converting graphs to a newer supported
<cite>GraphDef</cite> version.</p>
<p>## Graph and checkpoint compatibility when extending TensorFlow</p>
<p>This section is relevant only when making incompatible changes to the <cite>GraphDef</cite>
format, such as when adding ops, removing ops, or changing the functionality
of existing ops.  The previous section should suffice for most users.</p>
<p>&lt;a id=»backward_forward»/&gt;</p>
<p>### Backward and partial forward compatibility</p>
<p>Our versioning scheme has three requirements:</p>
<ul class="simple">
<li><p><strong>Backward compatibility</strong> to support loading graphs and checkpoints
created with older versions of TensorFlow.</p></li>
<li><p><strong>Forward compatibility</strong> to support scenarios where the producer of a
graph or checkpoint is upgraded to a newer version of TensorFlow before
the consumer.</p></li>
<li><p>Enable evolving TensorFlow in incompatible ways. For example, removing ops,
adding attributes, and removing attributes.</p></li>
</ul>
<p>Note that while the <cite>GraphDef</cite> version mechanism is separate from the TensorFlow
version, backwards incompatible changes to the <cite>GraphDef</cite> format are still
restricted by Semantic Versioning.  This means functionality can only be removed
or changed between <cite>MAJOR</cite> versions of TensorFlow (such as <cite>1.7</cite> to <cite>2.0</cite>).
Additionally, forward compatibility is enforced within Patch releases (<cite>1.x.1</cite>
to <cite>1.x.2</cite> for example).</p>
<p>To achieve backward and forward compatibility and to know when to enforce changes
in formats, graphs and checkpoints have metadata that describes when they
were produced. The sections below detail the TensorFlow implementation and
guidelines for evolving <cite>GraphDef</cite> versions.</p>
<p>### Independent data version schemes</p>
<p>There are different data versions for graphs and checkpoints. The two data
formats evolve at different rates from each other and also at different rates
from TensorFlow. Both versioning systems are defined in
[<cite>core/public/version.h</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/public/version.h">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/public/version.h</a>).
Whenever a new version is added, a note is added to the header detailing what
changed and the date.</p>
<p>### Data, producers, and consumers</p>
<p>We distinguish between the following kinds of data version information:
* <strong>producers</strong>: binaries that produce data.  Producers have a version</p>
<blockquote>
<div><p>(<cite>producer</cite>) and a minimum consumer version that they are compatible with
(<cite>min_consumer</cite>).</p>
</div></blockquote>
<ul class="simple">
<li><p><strong>consumers</strong>: binaries that consume data.  Consumers have a version
(<cite>consumer</cite>) and a minimum producer version that they are compatible with
(<cite>min_producer</cite>).</p></li>
</ul>
<p>Each piece of versioned data has a [<cite>VersionDef
versions</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/versions.proto">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/versions.proto</a>)
field which records the <cite>producer</cite> that made the data, the <cite>min_consumer</cite>
that it is compatible with, and a list of <cite>bad_consumers</cite> versions that are
disallowed.</p>
<p>By default, when a producer makes some data, the data inherits the producer’s
<cite>producer</cite> and <cite>min_consumer</cite> versions. <cite>bad_consumers</cite> can be set if specific
consumer versions are known to contain bugs and must be avoided. A consumer can
accept a piece of data if the following are all true:</p>
<ul class="simple">
<li><p><cite>consumer</cite> &gt;= data’s <cite>min_consumer</cite></p></li>
<li><p>data’s <cite>producer</cite> &gt;= consumer’s <cite>min_producer</cite></p></li>
<li><p><cite>consumer</cite> not in data’s <cite>bad_consumers</cite></p></li>
</ul>
<p>Since both producers and consumers come from the same TensorFlow code base,
[<cite>core/public/version.h</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/public/version.h">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/public/version.h</a>)
contains a main data version which is treated as either <cite>producer</cite> or
<cite>consumer</cite> depending on context and both <cite>min_consumer</cite> and <cite>min_producer</cite>
(needed by producers and consumers, respectively). Specifically,</p>
<ul class="simple">
<li><p>For <cite>GraphDef</cite> versions, we have <cite>TF_GRAPH_DEF_VERSION</cite>,
<cite>TF_GRAPH_DEF_VERSION_MIN_CONSUMER</cite>, and
<cite>TF_GRAPH_DEF_VERSION_MIN_PRODUCER</cite>.</p></li>
<li><p>For checkpoint versions, we have <cite>TF_CHECKPOINT_VERSION</cite>,
<cite>TF_CHECKPOINT_VERSION_MIN_CONSUMER</cite>, and
<cite>TF_CHECKPOINT_VERSION_MIN_PRODUCER</cite>.</p></li>
</ul>
<p>### Add a new attribute with default to an existing op</p>
<p>Following the guidance below gives you forward compatibility only if the set of
ops has not changed:</p>
<ol class="arabic simple">
<li><p>If forward compatibility is desired, set <cite>strip_default_attrs</cite> to <cite>True</cite>
while exporting the model using either the
<cite>tf.saved_model.SavedModelBuilder.add_meta_graph_and_variables</cite>
and <cite>tf.saved_model.SavedModelBuilder.add_meta_graph</cite>
methods of the <cite>SavedModelBuilder</cite> class, or
<cite>tf.estimator.Estimator.export_saved_model</cite></p></li>
<li><p>This strips off the default valued attributes at the time of
producing/exporting the models. This makes sure that the exported
<cite>tf.MetaGraphDef</cite> does not contain the new op-attribute when the default
value is used.</p></li>
<li><p>Having this control could allow out-of-date consumers (for example, serving
binaries that lag behind training binaries) to continue loading the models
and prevent interruptions in model serving.</p></li>
</ol>
<p>### Evolving GraphDef versions</p>
<p>This section explains how to use this versioning mechanism to make different
types of changes to the <cite>GraphDef</cite> format.</p>
<p>#### Add an op</p>
<p>Add the new op to both consumers and producers at the same time, and do not
change any <cite>GraphDef</cite> versions. This type of change is automatically
backward compatible, and does not impact forward compatibility plan since
existing producer scripts will not suddenly use the new functionality.</p>
<p>#### Add an op and switch existing Python wrappers to use it</p>
<ol class="arabic simple">
<li><p>Implement new consumer functionality and increment the <cite>GraphDef</cite> version.</p></li>
<li><p>If it is possible to make the wrappers use the new functionality only in
cases that did not work before, the wrappers can be updated now.</p></li>
<li><p>Change Python wrappers to use the new functionality. Do not increment
<cite>min_consumer</cite>, since models that do not use this op should not break.</p></li>
</ol>
<p>#### Remove or restrict an op’s functionality</p>
<ol class="arabic simple">
<li><p>Fix all producer scripts (not TensorFlow itself) to not use the banned op or
functionality.</p></li>
<li><p>Increment the <cite>GraphDef</cite> version and implement new consumer functionality
that bans the removed op or functionality for GraphDefs at the new version
and above. If possible, make TensorFlow stop producing <cite>GraphDefs</cite> with the
banned functionality. To do so, add the
[<cite>REGISTER_OP(…).Deprecated(deprecated_at_version,
message)</cite>](<a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/b289bc7a50fc0254970c60aaeba01c33de61a728/tensorflow/core/ops/array_ops.cc#L1009">https://github.com/tensorflow/tensorflow/blob/b289bc7a50fc0254970c60aaeba01c33de61a728/tensorflow/core/ops/array_ops.cc#L1009</a>).</p></li>
<li><p>Wait for a major release for backward compatibility purposes.</p></li>
<li><p>Increase <cite>min_producer</cite> to the GraphDef version from (2) and remove the
functionality entirely.</p></li>
</ol>
<p>#### Change an op’s functionality</p>
<ol class="arabic simple">
<li><p>Add a new similar op named <cite>SomethingV2</cite> or similar and go through the
process of adding it and switching existing Python wrappers to use it.
To ensure forward compatibility use the checks suggested in
[compat.py](<a class="reference external" href="https://www.tensorflow.org/code/tensorflow/python/compat/compat.py">https://www.tensorflow.org/code/tensorflow/python/compat/compat.py</a>)
when changing the Python wrappers.</p></li>
<li><p>Remove the old op (Can only take place with a major version change due to
backward compatibility).</p></li>
<li><p>Increase <cite>min_consumer</cite> to rule out consumers with the old op, add back the
old op as an alias for <cite>SomethingV2</cite>, and go through the process to switch
existing Python wrappers to use it.</p></li>
<li><p>Go through the process to remove <cite>SomethingV2</cite>.</p></li>
</ol>
<p>#### Ban a single unsafe consumer version</p>
<ol class="arabic simple">
<li><p>Bump the <cite>GraphDef</cite> version and add the bad version to <cite>bad_consumers</cite> for
all new GraphDefs. If possible, add to <cite>bad_consumers</cite> only for GraphDefs
which contain a certain op or similar.</p></li>
<li><p>If existing consumers have the bad version, push them out as soon as
possible.</p></li>
</ol>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Derechos de autor 2019, Juan D. Velasquez.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>