

<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Time Series Objects en R &mdash; documentación de --- Cursos --- - </title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> --- Cursos ---
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Configuración</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">Instalación de Vagrant y Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Cursos de Pregrado</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fundamentos-de-analitica/index.html">Fundamentos de Analítica</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html">Redes Neuronales Artificiales y Algoritmos Bioinspirados</a></li>
</ul>
<p class="caption"><span class="caption-text">Cursos de Posgrado</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-de-grandes-datos/index.html">Analítica de Grandes Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-predictiva/index.html">Analítica Predictiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ciencia-de-los-datos/index.html">Ciencia de los Datos Aplicada</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../productos-de-datos/index.html">Productos de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica_avanzada/index.html">Analítica Avanzada</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">--- Cursos ---</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Time Series Objects en R</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/notebooks/timeseries/7-05-R-TS-object.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Time-Series-Objects-en-R">
<h1>Time Series Objects en R<a class="headerlink" href="#Time-Series-Objects-en-R" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="line-block">
<div class="line"><strong>Juan David Velásquez Henao</strong></div>
<div class="line"><a class="reference external" href="mailto:jdvelasq&#37;&#52;&#48;unal&#46;edu&#46;co">jdvelasq<span>&#64;</span>unal<span>&#46;</span>edu<span>&#46;</span>co</a></div>
<div class="line">Universidad Nacional de Colombia, Sede Medellín</div>
<div class="line">Facultad de Minas</div>
<div class="line">Medellín, Colombia</div>
</div>
<hr class="docutils" />
<p>Haga click <a class="reference external" href="https://github.com/jdvelasq/series-de-tiempo/blob/master/05-R-TS-object.ipynb">aquí</a> para acceder a la última versión online</p>
<p>Haga click <a class="reference external" href="http://nbviewer.jupyter.org/github/jdvelasq/series-de-tiempo/blob/master/05-R-TS-object.ipynb">aquí</a> para ver la última versión online en <code class="docutils literal notranslate"><span class="pre">nbviewer</span></code>.</p>
<hr class="docutils" />
<p># Adquisición de datos en R</p>
<p>R permite adquirir datos de diversas fuentes incluyendo archivos de texto, excel y bases de datos, entre otros. Un tutorial sobre este tema está disponible en <a class="reference external" href="https://github.com/jdvelasq/R-for-data-science/blob/master/03-extraccion.ipynb">https://github.com/jdvelasq/R-for-data-science/blob/master/03-extraccion.ipynb</a>; las funciones descritas en él son válidas para leer datos de series de tiempo.</p>
</div>
<div class="section" id="Graficación-de-series-de-tiempo">
<h1>Graficación de series de tiempo<a class="headerlink" href="#Graficación-de-series-de-tiempo" title="Enlazar permanentemente con este título">¶</a></h1>
<p>R tiene tres librerías básicas para la preparación de gráficos estadísticos: base, lattice y ggplot2. Un tutorial detallado está disponible en: * <a class="reference external" href="https://github.com/jdvelasq/R-for-data-science/blob/master/05-visualizacion-1-base.ipynb">https://github.com/jdvelasq/R-for-data-science/blob/master/05-visualizacion-1-base.ipynb</a> * <a class="reference external" href="https://github.com/jdvelasq/R-for-data-science/blob/master/05-visualizacion-2-lattice.ipynb">https://github.com/jdvelasq/R-for-data-science/blob/master/05-visualizacion-2-lattice.ipynb</a>, y * <a class="reference external" href="https://github.com/jdvelasq/R-for-data-science/blob/master/05-visualizacion-3-ggplot2.ipynb">https://github.com/jdvelasq/R-for-data-science/blob/master/05-visualizacion-3-ggplot2.ipynb</a></p>
<p>Las funciones descritas en estos tutoriales son válidas para leer datos de series de tiempo.</p>
</div>
<div class="section" id="id1">
<h1>Time-Series Objects en R<a class="headerlink" href="#id1" title="Enlazar permanentemente con este título">¶</a></h1>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">`ts</span> <span class="pre">{stats}</span></code> &lt;<a class="reference external" href="https://stat.ethz.ch/R-manual/R-devel/library/stats/html/ts.html">https://stat.ethz.ch/R-manual/R-devel/library/stats/html/ts.html</a>&gt;`__</p>
</div></blockquote>
<p>Una serie de tiempo se define como una secuencia de observaciones ordenadas en el tiempo o el espacio. Antes de iniciar la fundamentación estadística, se abordará el problema práctico de la representación computacional. La función <code class="docutils literal notranslate"><span class="pre">ts</span></code> permite manejar objetos <code class="docutils literal notranslate"><span class="pre">Time-Series</span></code>, los cuales tienen asociada un fecha a cada dato de la serie.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## crea un objeto ts a partir de un vector de aleatorios normales</span>
<span class="n">x</span> <span class="o">&lt;-</span> <span class="nf">ts</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="nf">cumsum</span><span class="p">(</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">)),</span>   <span class="c1"># genera los datos aleatorios</span>
        <span class="n">start</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1959</span><span class="p">,</span> <span class="m">2</span><span class="p">),</span>         <span class="c1"># 2do trimestre de 1959</span>
        <span class="n">frequency</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span>              <span class="c1"># trimestrales</span>

<span class="c1">## imprime -- note el formato de impresión</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
            Qtr1        Qtr2        Qtr3        Qtr4
1959              1.32127075  0.19529400  0.47470942
1960  0.28807361  0.40016112 -0.73238412  0.79799213
1961  0.02672169 -0.17842237 -0.86975257  1.18427078
1962  2.07638696  1.07078061  2.62299546  2.01077975
1963  0.27585995  0.53344834  0.48295563  0.23881065
1964 -1.04135728
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Instale y cargue la librería</span>
<span class="nf">library</span><span class="p">(</span><span class="n">Cairo</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Error in library(Cairo): there is no package called ‘Cairo’
Traceback:

1. library(Cairo)
2. stop(txt, domain = NA)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## grafica la serie -- llama a la función plot.ts()</span>

<span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span><span class="o">=</span><span class="m">8</span><span class="p">,</span> <span class="n">repr.plot.height</span><span class="o">=</span><span class="m">4</span><span class="p">)</span>

<span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>              <span class="c1"># los datos</span>
     <span class="n">type</span> <span class="o">=</span> <span class="s">&#39;o&#39;</span><span class="p">,</span>     <span class="c1"># tipo de gráfico: o - overplotted</span>
     <span class="n">pch</span> <span class="o">=</span> <span class="m">19</span><span class="p">,</span>       <span class="c1"># tipo de marcador de los puntos</span>
     <span class="n">col</span> <span class="o">=</span> <span class="s">&#39;blue&#39;</span><span class="p">)</span>   <span class="c1"># color de la serie</span>

<span class="nf">grid</span><span class="p">()</span>               <span class="c1"># hace visible la malla</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_timeseries_7-05-R-TS-object_10_0.png" src="../../_images/notebooks_timeseries_7-05-R-TS-object_10_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## retorna la fecha para cada observación</span>
<span class="c1">## note que el entero representa el año y el decimal</span>
<span class="c1">## representa el periodo</span>
<span class="nf">time</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
        Qtr1    Qtr2    Qtr3    Qtr4
1959         1959.25 1959.50 1959.75
1960 1960.00 1960.25 1960.50 1960.75
1961 1961.00 1961.25 1961.50 1961.75
1962 1962.00 1962.25 1962.50 1962.75
1963 1963.00 1963.25 1963.50 1963.75
1964 1964.00
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## retorna la posición del ciclo para cada observación</span>
<span class="nf">cycle</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
     Qtr1 Qtr2 Qtr3 Qtr4
1959         2    3    4
1960    1    2    3    4
1961    1    2    3    4
1962    1    2    3    4
1963    1    2    3    4
1964    1
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## retorna la frecuencia</span>
<span class="nf">frequency</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
4</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## retorna el delta de tiempo entre observaciones</span>
<span class="nf">deltat</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
0.25</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## window extrae una porción de los datos</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># datos originales</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
            Qtr1        Qtr2        Qtr3        Qtr4
1959             -0.19385627 -1.66388113 -0.40384954
1960 -0.33989157 -1.49343368 -0.83526760 -1.61490370
1961 -2.40484186 -2.65026050 -3.74819516 -3.79661687
1962 -4.36602983 -3.27940074 -1.78526230  0.19429861
1963 -0.82941124  0.03112894  0.32589238  0.20864200
1964  0.68487610
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="nf">window</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>              <span class="c1"># los datos</span>
       <span class="n">deltat</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span>   <span class="c1"># el incremento (compare con la celda anterior)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Time Series:
Start = 1959.25
End = 1963.75
Frequency = 2
 [1] -0.19385627 -0.40384954 -1.49343368 -1.61490370 -2.65026050 -3.79661687
 [7] -3.27940074  0.19429861  0.03112894  0.20864200
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="nf">window</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>                   <span class="c1"># los datos</span>
       <span class="n">start</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1960</span><span class="p">,</span><span class="m">1</span><span class="p">),</span>   <span class="c1"># fecha inicial</span>
       <span class="n">end</span>   <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1963</span><span class="p">,</span><span class="m">4</span><span class="p">))</span>   <span class="c1"># fecha final</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
            Qtr1        Qtr2        Qtr3        Qtr4
1960 -0.33989157 -1.49343368 -0.83526760 -1.61490370
1961 -2.40484186 -2.65026050 -3.74819516 -3.79661687
1962 -4.36602983 -3.27940074 -1.78526230  0.19429861
1963 -0.82941124  0.03112894  0.32589238  0.20864200
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## se genera una serie con datos mensuales</span>
<span class="n">y</span> <span class="o">&lt;-</span> <span class="nf">ts</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="nf">cumsum</span><span class="p">(</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">84</span><span class="p">)),</span>   <span class="c1"># genera los datos aleatorios</span>
        <span class="n">start</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1958</span><span class="p">,</span> <span class="m">1</span><span class="p">),</span>         <span class="c1"># enero de 1958</span>
        <span class="n">frequency</span> <span class="o">=</span> <span class="m">12</span><span class="p">)</span>             <span class="c1"># datos mensuales</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## una de las utilidades de ts es que permite graficar</span>
<span class="c1">## series correctamente alineadas en el tiempo</span>

<span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span><span class="o">=</span><span class="m">10</span><span class="p">,</span> <span class="n">repr.plot.height</span><span class="o">=</span><span class="m">6</span><span class="p">)</span>

<span class="nf">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span>                             <span class="c1"># la serie `y` es mas larga y cubre la serie `x`</span>
     <span class="n">type</span> <span class="o">=</span> <span class="s">&#39;o&#39;</span><span class="p">,</span>                    <span class="c1"># tipo de gráfico</span>
     <span class="n">ylim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span> <span class="nf">max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)),</span>  <span class="c1"># límites máximo y mínimo del eje `Y`</span>
     <span class="n">pch</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span>

<span class="nf">lines</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>                            <span class="c1"># la serie `y`</span>
      <span class="n">col</span> <span class="o">=</span> <span class="s">&#39;red&#39;</span><span class="p">,</span>                  <span class="c1"># color</span>
      <span class="n">lwd</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span>                      <span class="c1"># grueso de la línea</span>

<span class="nf">grid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_timeseries_7-05-R-TS-object_19_0.png" src="../../_images/notebooks_timeseries_7-05-R-TS-object_19_0.png" />
</div>
</div>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">`str</span> <span class="pre">{stats}</span></code> &lt;<a class="reference external" href="https://stat.ethz.ch/R-manual/R-devel/library/utils/html/str.html">https://stat.ethz.ch/R-manual/R-devel/library/utils/html/str.html</a>&gt;`__</p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## información del tipo de objeto</span>
<span class="nf">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 Time-Series [1:20] from 1959 to 1964: -0.194 -1.664 -0.404 -0.34 -1.493 ...
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## se puede acceder a las componentes de un objeto series de tiempo</span>
<span class="c1">## como si fuese un vector</span>
<span class="n">x</span><span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="m">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<ol class=list-inline>
    <li>-1.66388113392715</li>
    <li>-0.403849543144362</li>
    <li>-0.339891571062024</li>
</ol></div>
</div>
<p><strong>Ejercicio.–</strong> Un archivo de texto tiene el siguiente contenido:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>yr qr x
91 1 10
91 2 16
91 3 20
91 4 24
92 1 29
92 2 32
92 3 40
92 4 43
93 1 49
93 2 51
93 3 62
93 4 64
94 1 71
94 2 77
94 3 80
94 4 85
</pre></div>
</div>
<p>Cree un objeto <code class="docutils literal notranslate"><span class="pre">Time-Series</span></code> con los datos y grafique la serie.</p>
<p><strong>Ejercicio.–</strong> El archivo <code class="docutils literal notranslate"><span class="pre">files/trm.dat</span></code> contiene los datos diarios de la tasa de cambio representativa del mercado colombiano entre el 01 de Enero de 2005 y el 01 de Enero de 2016. Lea los datos, cree un objeto de series de tiempo y grafique la serie.</p>
<p><strong>Ejercicio.–</strong> El archivo <code class="docutils literal notranslate"><span class="pre">files/google.dat</span></code> contiene los datos mensuales de la cotización de la acción de Google Inc. en el mercado americano desde el 03 de Enero de 2007 hasta el 04 de Enero de 2016. Lea los datos y en una misma figure grafique las series <code class="docutils literal notranslate"><span class="pre">open</span></code> y <code class="docutils literal notranslate"><span class="pre">close</span></code>.</p>
</div>
<div class="section" id="Manipulación-de-fechas">
<h1>Manipulación de fechas<a class="headerlink" href="#Manipulación-de-fechas" title="Enlazar permanentemente con este título">¶</a></h1>
<p><a class="reference external" href="#Contenido">Contenido</a></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">`as.Date</span> <span class="pre">{base}</span></code> &lt;<a class="reference external" href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/as.Date.html">https://stat.ethz.ch/R-manual/R-devel/library/base/html/as.Date.html</a>&gt;`__</p>
</div></blockquote>
<p>En el trabajo con series de tiempo es común la lectura de datos con fechas en diferentes formatos, así como su manipulación. En esta sección se aborda el problema de la manipulación de las fechas. La función <code class="docutils literal notranslate"><span class="pre">as.Date</span></code> permite este trabajo.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="nf">Sys.Date</span><span class="p">()</span>  <span class="c1"># retorna la fecha actual</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<time datetime="2017-08-31">2017-08-31</time></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## el argumento format permite especificar el formato de la fecha así:</span>
<span class="c1">##</span>
<span class="c1">##  `%d` -- Dia del mes (numero decimal)</span>
<span class="c1">##  `%m` -- Mes (numero decimal)</span>
<span class="c1">##  `%b` -- Mes abreviado</span>
<span class="c1">##  `%B` -- Mes completo</span>
<span class="c1">##  `%y` --  Año con 2 digitos</span>
<span class="c1">##  `%Y` -- Año con 4 digitos</span>
<span class="c1">##</span>
<span class="n">x</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;1jan1960&quot;</span><span class="p">,</span> <span class="s">&quot;2JAN1960&quot;</span><span class="p">,</span> <span class="s">&quot;31mar1960&quot;</span><span class="p">,</span> <span class="s">&quot;30jul1960&quot;</span><span class="p">)</span>
<span class="nf">as.Date</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">format</span> <span class="o">=</span> <span class="s">&quot;%d%b%Y&quot;</span><span class="p">)</span> <span class="c1"># %d -- dia como numero, %b -- mes abreviado, %Y -- año con 4 dígitos</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<ol class=list-inline>
    <li><time datetime="1960-01-01">1960-01-01</time></li>
    <li><time datetime="1960-01-02">1960-01-02</time></li>
    <li><time datetime="1960-03-31">1960-03-31</time></li>
    <li><time datetime="1960-07-30">1960-07-30</time></li>
</ol></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## datos en formato &#39;m/d/y&#39;</span>
<span class="n">x</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;02/27/92&quot;</span><span class="p">,</span> <span class="s">&quot;02/27/92&quot;</span><span class="p">,</span> <span class="s">&quot;01/14/92&quot;</span><span class="p">,</span> <span class="s">&quot;02/28/92&quot;</span><span class="p">,</span> <span class="s">&quot;02/01/92&quot;</span><span class="p">)</span>
<span class="nf">as.Date</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&quot;%m/%d/%y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<ol class=list-inline>
    <li><time datetime="1992-02-27">1992-02-27</time></li>
    <li><time datetime="1992-02-27">1992-02-27</time></li>
    <li><time datetime="1992-01-14">1992-01-14</time></li>
    <li><time datetime="1992-02-28">1992-02-28</time></li>
    <li><time datetime="1992-02-01">1992-02-01</time></li>
</ol></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## fecha como numero de días desde 1900-01-01</span>
<span class="nf">as.Date</span><span class="p">(</span><span class="m">32768</span><span class="p">,</span> <span class="n">origin</span> <span class="o">=</span> <span class="s">&quot;1900-01-01&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<time datetime="1989-09-19">1989-09-19</time></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Mes completo dia, Año</span>
<span class="nf">as.Date</span><span class="p">(</span><span class="s">&#39;April 26, 2001&#39;</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;%B %d, %Y&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<time datetime="2001-04-26">2001-04-26</time></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Generacion  de un vector de fechas</span>
<span class="nf">seq</span><span class="p">(</span> <span class="nf">as.Date</span><span class="p">(</span><span class="s">&quot;1956/1/1&quot;</span><span class="p">),</span> <span class="c1"># Utiliza as.Date para el formato fechas</span>
     <span class="n">length.out</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span>     <span class="c1"># Longitud de los datos</span>
     <span class="n">by</span><span class="o">=</span><span class="s">&quot;months&quot;</span><span class="p">)</span>         <span class="c1"># Organizado por meses</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<ol class=list-inline>
    <li><time datetime="1956-01-01">1956-01-01</time></li>
    <li><time datetime="1956-02-01">1956-02-01</time></li>
    <li><time datetime="1956-03-01">1956-03-01</time></li>
    <li><time datetime="1956-04-01">1956-04-01</time></li>
    <li><time datetime="1956-05-01">1956-05-01</time></li>
    <li><time datetime="1956-06-01">1956-06-01</time></li>
    <li><time datetime="1956-07-01">1956-07-01</time></li>
    <li><time datetime="1956-08-01">1956-08-01</time></li>
    <li><time datetime="1956-09-01">1956-09-01</time></li>
    <li><time datetime="1956-10-01">1956-10-01</time></li>
</ol></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Generacion  de un vector de fechas</span>
<span class="nf">seq</span><span class="p">(</span> <span class="nf">as.Date</span><span class="p">(</span><span class="s">&quot;1956/1/1&quot;</span><span class="p">),</span> <span class="c1"># Utiliza as.Date para el formato fechas</span>
     <span class="n">length.out</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span>     <span class="c1"># Longitud de los datos</span>
     <span class="n">by</span><span class="o">=</span><span class="s">&quot;weeks&quot;</span><span class="p">)</span>          <span class="c1"># Organizado por semanas</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<ol class=list-inline>
    <li><time datetime="1956-01-01">1956-01-01</time></li>
    <li><time datetime="1956-01-08">1956-01-08</time></li>
    <li><time datetime="1956-01-15">1956-01-15</time></li>
    <li><time datetime="1956-01-22">1956-01-22</time></li>
    <li><time datetime="1956-01-29">1956-01-29</time></li>
    <li><time datetime="1956-02-05">1956-02-05</time></li>
    <li><time datetime="1956-02-12">1956-02-12</time></li>
    <li><time datetime="1956-02-19">1956-02-19</time></li>
    <li><time datetime="1956-02-26">1956-02-26</time></li>
    <li><time datetime="1956-03-04">1956-03-04</time></li>
</ol></div>
</div>
<p><strong>Ejercicio.–</strong> Genere un vector de fechas desde el 03 de Enero de 2007 hasta el 04 de Enero de 2016 con frecuencia mensual.</p>
<p><strong>Ejercicio.–</strong> Genere un vector de fechas de periodicidad diaria desde el 1 de Enero de 2005 hasta el 1 de Enero de 2016</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">`strptime</span> <span class="pre">{base}</span></code> &lt;<a class="reference external" href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/strptime.html">https://stat.ethz.ch/R-manual/R-devel/library/base/html/strptime.html</a>&gt;`__</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">`as.POSIX*</span>&#160; <span class="pre">{base}</span></code> &lt;<a class="reference external" href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/as.POSIXlt.html">https://stat.ethz.ch/R-manual/R-devel/library/base/html/as.POSIXlt.html</a>&gt;`__</div>
</div>
</div></blockquote>
<p>La lectura correcta de fechas no es un problema trivial ya que existen multiples formas de representación en formato texto. La función <code class="docutils literal notranslate"><span class="pre">strptime</span></code> permite hacer converciones entre representaciones de caracteres y objetos de clase <code class="docutils literal notranslate"><span class="pre">POSIXlt</span></code> Y <code class="docutils literal notranslate"><span class="pre">POSIXct</span></code> que representan las fechas de calendario y horas.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Se crea la varible Date con una fecha.</span>
<span class="n">x</span> <span class="o">&lt;-</span> <span class="s">&quot;2016-01-01&quot;</span>
<span class="nf">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 chr &#34;2016-01-01&#34;
</pre></div></div>
</div>
<p>A continuación se convierte la cadena de caracteres a un formato interno de fecha que permite su manipulación posterior.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="n">newdate</span> <span class="o">&lt;-</span> <span class="nf">strptime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>                      <span class="c1"># la fecha como texto</span>
                    <span class="n">format</span><span class="o">=</span><span class="p">(</span><span class="s">&quot;%Y-%m-%d&quot;</span><span class="p">))</span>    <span class="c1"># el formato en que está escrita la fecha</span>
<span class="n">newdate</span>
<span class="nf">str</span><span class="p">(</span><span class="n">newdate</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1] &#34;2016-01-01 COT&#34;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 POSIXlt[1:1], format: &#34;2016-01-01&#34;
</pre></div></div>
</div>
<p>Los formatos <code class="docutils literal notranslate"><span class="pre">POSIXlt</span></code> Y <code class="docutils literal notranslate"><span class="pre">POSIXct</span></code> permiten la transformación de fehcas a diferentes formatos y los cálculos con fechas en <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="n">v1</span> <span class="o">&lt;-</span> <span class="nf">as.POSIXlt</span><span class="p">(</span><span class="s">&quot;2016-01-01&quot;</span><span class="p">)</span>
<span class="n">v2</span> <span class="o">&lt;-</span> <span class="nf">as.POSIXlt</span><span class="p">(</span><span class="s">&quot;2016-06-01&quot;</span><span class="p">)</span>
<span class="n">v2</span> <span class="o">-</span> <span class="n">v1</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Time difference of 152 days
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## uno de los usos de as.Date es construir gráficos con el eje X especicado como fechas</span>
<span class="c1">## La variable AirPassengers contiene un objeto `Time-Series`</span>
<span class="n">AirPassengers</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
     Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
1949 112 118 132 129 121 135 148 148 136 119 104 118
1950 115 126 141 135 125 149 170 170 158 133 114 140
1951 145 150 178 163 172 178 199 199 184 162 146 166
1952 171 180 193 181 183 218 230 242 209 191 172 194
1953 196 196 236 235 229 243 264 272 237 211 180 201
1954 204 188 235 227 234 264 302 293 259 229 203 229
1955 242 233 267 269 270 315 364 347 312 274 237 278
1956 284 277 317 313 318 374 413 405 355 306 271 306
1957 315 301 356 348 355 422 465 467 404 347 305 336
1958 340 318 362 348 363 435 491 505 404 359 310 337
1959 360 342 406 396 420 472 548 559 463 407 362 405
1960 417 391 419 461 472 535 622 606 508 461 390 432
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-r notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## gráfica de la serie de tiempo</span>
<span class="c1">## con fechas</span>

<span class="n">f</span><span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="nf">as.Date</span><span class="p">(</span><span class="s">&quot;1949/1/1&quot;</span><span class="p">),</span>                        <span class="c1"># utiliza as.Date para el formato fechas</span>
       <span class="n">length.out</span><span class="o">=</span> <span class="nf">length</span><span class="p">(</span><span class="n">AirPassengers</span><span class="p">),</span>          <span class="c1"># numero de observaciones de la serie</span>
       <span class="n">by</span><span class="o">=</span><span class="s">&quot;months&quot;</span><span class="p">)</span>                                <span class="c1"># organizado por meses</span>

<span class="n">np</span> <span class="o">=</span> <span class="nf">length</span><span class="p">(</span><span class="n">AirPassengers</span><span class="p">)</span>

<span class="n">month</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="m">1</span><span class="p">],</span>                                  <span class="c1"># Secuencia de meses</span>
            <span class="n">f</span><span class="p">[</span><span class="n">np</span><span class="p">],</span>
            <span class="n">by</span><span class="o">=</span> <span class="s">&quot;months&quot;</span><span class="p">)</span>

<span class="n">year</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="m">1</span><span class="p">],</span>                                   <span class="c1"># Secuencia de años</span>
           <span class="n">f</span><span class="p">[</span><span class="n">np</span><span class="p">],</span>
           <span class="n">by</span><span class="o">=</span> <span class="s">&quot;years&quot;</span><span class="p">)</span>

<span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span><span class="o">=</span><span class="m">10</span><span class="p">,</span> <span class="n">repr.plot.height</span><span class="o">=</span><span class="m">6</span><span class="p">)</span>

<span class="nf">plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span>                                             <span class="c1"># Fechas de la serie</span>
     <span class="n">AirPassengers</span><span class="p">,</span>                                 <span class="c1"># Datos</span>
     <span class="n">xlab</span><span class="o">=</span><span class="s">&quot;Time&quot;</span><span class="p">,</span>                                   <span class="c1"># Nombre eje x</span>
     <span class="n">type</span><span class="o">=</span><span class="s">&quot;l&quot;</span><span class="p">,</span>                                      <span class="c1"># Tipo de grafica</span>
     <span class="n">xaxt</span><span class="o">=</span><span class="s">&quot;n&quot;</span><span class="p">)</span>                                      <span class="c1"># xaxt=&quot;n&quot; suprime eje x</span>

<span class="c1">## Agrega el eje x</span>
<span class="nf">axis.Date</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">at</span><span class="o">=</span><span class="n">month</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&quot;%b/%y&quot;</span><span class="p">)</span>              <span class="c1"># Eje x-Mes</span>
<span class="nf">axis.Date</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">at</span><span class="o">=</span><span class="n">year</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">tcl</span> <span class="o">=</span> <span class="m">0.2</span><span class="p">)</span>    <span class="c1"># Eje x-Año</span>

<span class="nf">grid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_timeseries_7-05-R-TS-object_47_0.png" src="../../_images/notebooks_timeseries_7-05-R-TS-object_47_0.png" />
</div>
</div>
<p><strong>Ejercicio.–</strong> El archivo <code class="docutils literal notranslate"><span class="pre">files/sutter.dat</span></code> contiene los datos de la serie mensual de mano de obra en el condado de Sutter a partir de enero de 1946. Cargue la serie y grafíquela usando un objeto TS.</p>
</div>
<div class="section" id="id2">
<h1>Time Series Objects en R<a class="headerlink" href="#id2" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="line-block">
<div class="line"><strong>Juan David Velásquez Henao</strong></div>
<div class="line"><a class="reference external" href="mailto:jdvelasq&#37;&#52;&#48;unal&#46;edu&#46;co">jdvelasq<span>&#64;</span>unal<span>&#46;</span>edu<span>&#46;</span>co</a></div>
<div class="line">Universidad Nacional de Colombia, Sede Medellín</div>
<div class="line">Facultad de Minas</div>
<div class="line">Medellín, Colombia</div>
</div>
<hr class="docutils" />
<p>Haga click <a class="reference external" href="https://github.com/jdvelasq/series-de-tiempo/blob/master/05-R-TS-object.ipynb">aquí</a> para acceder a la última versión online</p>
<p>Haga click <a class="reference external" href="http://nbviewer.jupyter.org/github/jdvelasq/series-de-tiempo/blob/master/05-R-TS-object.ipynb">aquí</a> para ver la última versión online en <code class="docutils literal notranslate"><span class="pre">nbviewer</span></code>.</p>
<hr class="docutils" />
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Derechos de autor 2019, Juan D. Velasquez.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>